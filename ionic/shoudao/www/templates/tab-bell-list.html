<ion-view view-title="消息中心">
  <ion-nav-buttons side="right">
    <button class="button button-clear button-dark" ng-click="mark_all_read()" style="font-size: 18px">
      <i class="icon ion-android-done-all"></i>
    </button>
  </ion-nav-buttons>
  <ion-content>
    <ion-refresher
      pulling-text="下拉刷新…"
      on-refresh="doRefresh()">
    </ion-refresher>

    <ion-list>
      <ion-item ng-repeat="bell in bells | orderBy:'-time'" class="item-avatar item-icon-right" type="item-text-wrap" ui-sref="tab.bell-detail({bell_id:bell.bell_id})">
        <div class="item-number-icon message-icon-block" style="color: #ffffff;" ng-style="{'background-color':bell.color}">
          <span><i class="fa fa-fw {{bell.icon}}" style="font-size: 28px"></i></span>
          <div ng-if="bell.status=='unread' && bell.tag=='major'" class="red-dot red-dot-big" style="top: -2px;right: -2px;"></div>
          <div ng-if="bell.status=='unread' && bell.tag=='minor'" class="red-dot red-dot-small" style="top: -1px;right: -1px;"></div>
        </div>
        <h2>{{bell.title}}</h2>
        <p>{{bell.time | date:'yyyy-M-d H:mm'}}</p>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </ion-item>

    </ion-list>

  </ion-content>
</ion-view>
